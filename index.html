<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap to Earn Game</title>

    <!-- Include the Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/i-icefrost" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <img src="assets/images/logo.png" alt="Logo" class="logo">
            <span class="username">Telegram Username (CEO)</span> <!-- Placeholder to be replaced -->
        </header>
        <div class="stats">
            <div class="gold-progress">
                <label>Gold</label>
                <div class="progress-bar">
                    <div class="progress" style="width: 50%;"></div> <!-- Adjust width dynamically -->
                </div>
                <span>3/6</span>
            </div>
            <div class="profit">
                <span>Profit per tap: +3</span>
            </div>
        </div>
        <div class="tap-section">
            <button id="boostButton" class="tap-left">Boost</button>
            <button class="tap-now">G-Ton</button>
        </div>
        <div class="balance">
            <img src="assets/images/coin.png" alt="Coin Icon" class="coin-icon">
            <span id="balances" class="point-display">566</span>
        </div>
        <div class="tap">
            <div class="icon">
                <img id="tapImage" src="assets/images/tapimage.png" alt="Tap Image" class="tap-image">
            </div>
            <div id="floating-points"></div> <!-- For the points flow animation -->
        </div>
        <!-- Firming value code -->
        <div class="farming-section">
            <button class="farm-button" id="farm-button">Farming Now</button>
            <div class="farming-info" id="farming-info" style="display: none;">
                <div class="farming-details">
                    <span class="lightning-icon">âš¡</span>
                    <span class="farming-status">Farming</span>
                    <div class="farming-value-container">
                        <span class="farming-value" id="farming-value">G 0.000</span>
                    </div>
                    <span class="timer" id="timer">08h 00m</span>
                </div>
            </div>
            <button class="claim-button" id="claim-button" style="display: none;">Claim</button>
        </div>
        <div class="nav">
            <div class="navbar">
                <ul class="menu">
                    <li><a href="index.html"><i class="fas fa-coins"></i> Earn</a></li>
                    <li><a href="task.html"><i class="fas fa-tasks"></i> Task</a></li>
                    <li><a href="frens.html"><i class="fas fa-user-friends"></i> Friend</a></li>
                    <li><a href="wallet.html"><i class="fas fa-wallet"></i> Wallet</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Add script to expand the app to full screen and set username -->
    <script>
        window.onload = function() {
            // Expand the Telegram WebApp to full screen
            Telegram.WebApp.expand();

            // Get user data from Telegram WebApp
            const user = Telegram.WebApp.initDataUnsafe.user;

            // Check if user is logged in and replace username in the span
            if (user && user.username) {
                document.querySelector('.username').innerText = user.username + ' (CEO)';
            } else if (user && user.first_name) {
                document.querySelector('.username').innerText = user.first_name + ' (CEO)';
            }

            // Example of dynamically adjusting the balance (replace this with actual logic)
            let balance = 566; // Replace this with real-time logic if available
            document.getElementById('balances').innerText = balance;

            // Boost button logic example
            document.getElementById('boostButton').addEventListener('click', function() {
                alert('Boost Activated!'); // Replace with actual boost logic
            });

            // Farming button logic example
            document.getElementById('farm-button').addEventListener('click', function() {
                document.getElementById('farming-info').style.display = 'block';
                document.getElementById('claim-button').style.display = 'block';
            });

            // Claim button logic example
            document.getElementById('claim-button').addEventListener('click', function() {
                alert('Claimed!'); // Replace with actual claim logic
                document.getElementById('farming-info').style.display = 'none';
                document.getElementById('claim-button').style.display = 'none';
            });
        };
    </script>

    <script src="assets/js/app.js"></script>
</body>
</html>
